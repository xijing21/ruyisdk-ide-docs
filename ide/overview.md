# RUYISDK IDE 总体设计功能清单

## 一、竞品分析

### 1. PlatformIO

- **核心特性**：
  - 统一的包管理系统，支持多种开发框架和平台
  - 丰富的库管理器和生态系统
  - 多平台支持（Windows、macOS、Linux）
  - 内置串口监视器和设备闪存工具
  - 支持多种开发板和框架
  - 云端同步和项目共享功能

### 2. Keil MDK

- **核心特性**：
  - 强大的调试功能，支持实时调试和跟踪
  - 完整的设备支持数据库
  - μVision IDE集成环境
  - 丰富的中间件组件（RTOS、USB、TCP/IP等）
  - 性能分析器和代码覆盖率工具
  - 支持多种ARM Cortex-M/A/R系列处理器

### 3. RISC-V Eclipse插件

- **核心特性**：
  - 专为RISC-V架构设计的Eclipse插件
  - 支持RISC-V汇编语法高亮和调试
  - 集成RISC-V工具链
  - 支持多种RISC-V处理器配置
  - 提供基本的调试和仿真功能

### 4. Arduino

- **核心特性**：
  - 简单易用的开发环境
  - 丰富的库生态系统
  - 标准化的硬件抽象层
  - 内置示例和教程
  - 支持多种开发板
  - 简化的编译和上传流程

### 5. 芯来科技：NucLei Studio IDE

- **核心特性**：
  - 基于Eclipse的RISC-V专用IDE
  - 集成芯来科技RISC-V处理器IP
  - 支持多种调试接口（JTAG、SWD）
  - 提供外设配置工具
  - 支持多种RISC-V开发板
  - 内置示例工程和文档

### 6. 沁恒微电子：MounRiver Studio

- **核心特性**：
  - 基于Eclipse的嵌入式开发IDE
  - 支持沁恒微电子的RISC-V和ARM内核MCU
  - 集成编译、调试、烧录功能
  - 提供外设配置代码生成工具
  - 支持多种调试器
  - 内置示例工程和库函数

## 二、RISC-V开发核心使用场景和功能

### 1. 开发环境配置

- **工具链管理**：自动检测、安装和配置RISC-V工具链（GCC、LLVM等）
- **多架构支持**：支持RV32I、RV64I、以及各种扩展（M、A、F、D、C、V等）
- **多厂商支持**：适配不同厂商的RISC-V处理器和开发板

### 2. 项目管理

- **项目模板**：提供针对不同RISC-V开发板和应用场景的项目模板
- **构建系统集成**：支持CMake、Makefile、Meson等多种构建系统
- **依赖管理**：自动管理项目依赖和库文件

### 3. 代码开发

- **代码编辑**：语法高亮、代码补全、代码格式化
- **代码分析**：静态代码分析、代码质量检查
- **版本控制**：集成Git等版本控制系统

### 4. 编译构建

- **交叉编译**：支持RISC-V交叉编译工具链
- **构建配置**：灵活的构建配置管理
- **增量构建**：支持增量构建以加快开发速度

### 5. 调试功能

- **本地调试**：通过JTAG、SWD等接口进行本地调试
- **远程调试**：支持通过网络进行远程调试
- **仿真调试**：支持QEMU等RISC-V仿真器调试
- **调试功能**：断点、单步执行、变量监视、内存查看、寄存器查看等

### 6. 设备交互

- **设备检测**：自动检测连接的RISC-V设备
- **固件烧录**：支持多种烧录方式和协议
- **串口通信**：内置串口终端，支持与设备通信
- **远程访问**：支持SSH等远程访问方式

### 7. 性能分析

- **性能分析**：代码执行时间分析、函数调用分析
- **资源使用**：内存使用情况、CPU使用率监控
- **功耗分析**：针对嵌入式设备的功耗分析

### 8. 文档和社区

- **文档集成**：集成RISC-V架构和开发板相关文档
- **示例代码**：提供丰富的示例代码和教程
- **社区支持**：集成社区支持和反馈渠道

## 三、RUYISDK IDE 功能清单

### 1. ruyi包管理器集成

- [ ] ruyi包管理器安装检测
- [ ] ruyi包管理器版本检测与升级
- [ ] ruyi包管理器配置管理
- [ ] ruyi包管理器图形化界面
- [ ] ruyi包管理器命令行集成
- [ ] ruyi包管理器日志查看
- [ ] ruyi包管理器错误诊断与修复

### 2. 软件包资源展示与管理

- [ ] 软件包分类展示
- [ ] 软件包搜索功能
- [ ] 软件包详细信息展示（版本、描述、依赖等）
- [ ] 多软件包选择和批量安装
- [ ] 已安装软件包状态管理
- [ ] 软件包版本查询与切换
- [ ] 软件包依赖关系可视化
- [ ] 软件包更新通知
- [ ] 软件包卸载管理

### 3. RISC-V设备支持

- [ ] 设备自动检测与识别
- [ ] 设备连接状态监控
- [ ] 设备信息展示（型号、厂商、架构等）
- [ ] 设备固件烧录功能
- [ ] 多种烧录协议支持（JTAG、SWD、UART等）
- [ ] 设备远程访问（SSH、Telnet等）
- [ ] 设备远程控制
- [ ] 设备性能监控
- [ ] 多设备同时管理
- [ ] 设备配置文件管理

### 4. 项目模板与工程管理

- [ ] 开发板定制化项目模板
- [ ] 项目创建向导
- [ ] 项目导入功能（CMake、Makefile、Meson等）
- [ ] 项目结构管理
- [ ] 项目配置管理
- [ ] 项目依赖管理
- [ ] 项目构建配置
- [ ] 项目模板自定义
- [ ] 项目示例代码库
- [ ] 项目文档生成

### 5. 交叉编译与构建

- [ ] RISC-V交叉编译工具链集成
- [ ] 构建系统配置（CMake、Makefile、Meson等）
- [ ] 构建目标管理
- [ ] 构建配置管理（Debug、Release等）
- [ ] 增量构建支持
- [ ] 并行构建支持
- [ ] 构建错误定位与修复建议
- [ ] 构建日志查看与分析
- [ ] 构建产物管理
- [ ] 自定义构建脚本支持

### 6. 调试功能

- [ ] 本地调试支持（JTAG、SWD等）
- [ ] 远程调试支持
- [ ] 调试配置管理
- [ ] 断点管理（断点、条件断点、数据断点等）
- [ ] 单步执行（步入、步过、步出等）
- [ ] 变量监视与修改
- [ ] 内存查看与修改
- [ ] 寄存器查看与修改
- [ ] 调用栈查看
- [ ] 反汇编查看
- [ ] 调试会话管理
- [ ] 调试脚本支持

### 7. 运行功能

- [ ] 本地运行支持
- [ ] 远程运行支持
- [ ] 运行配置管理
- [ ] 运行参数配置
- [ ] 程序输入输出重定向
- [ ] 运行环境配置
- [ ] 运行结果查看
- [ ] 运行日志查看
- [ ] 运行性能监控
- [ ] 运行会话管理

### 8. 模拟器集成

- [ ] QEMU模拟器集成
- [ ] 模拟器配置管理
- [ ] 模拟运行支持
- [ ] 模拟调试支持
- [ ] 模拟设备配置
- [ ] 模拟性能监控
- [ ] 模拟器版本管理
- [ ] 模拟器插件扩展
- [ ] 模拟器与真实设备切换
- [ ] 模拟器会话管理

### 9. 代码开发辅助

- [ ] 语法高亮（C/C++、汇编等）
- [ ] 代码补全与智能提示
- [ ] 代码格式化
- [ ] 代码重构
- [ ] 代码导航
- [ ] 代码分析
- [ ] 代码质量检查
- [ ] 代码片段管理
- [ ] 代码模板
- [ ] 代码版本控制集成（Git等）

### 10. 性能分析

- [ ] 代码执行时间分析
- [ ] 函数调用分析
- [ ] 内存使用分析
- [ ] CPU使用率监控
- [ ] 功耗分析（针对嵌入式设备）
- [ ] 性能瓶颈识别
- [ ] 性能优化建议
- [ ] 性能报告生成
- [ ] 性能数据可视化
- [ ] 性能对比分析

### 11. 文档与社区

- [ ] RISC-V架构文档集成
- [ ] 开发板文档集成
- [ ] API文档集成
- [ ] 示例代码库
- [ ] 教程与指南
- [ ] 社区支持集成
- [ ] 问题反馈渠道
- [ ] 更新日志
- [ ] 常见问题解答
- [ ] 在线资源链接

### 12. 用户界面与体验

- [ ] 多语言支持
- [ ] 主题定制
- [ ] 界面布局定制
- [ ] 快捷键配置
- [ ] 工具栏定制
- [ ] 视图管理
- [ ] 工作区管理
- [ ] 向导与引导
- [ ] 用户偏好设置
- [ ] 辅助功能支持

### 13. 系统集成

- [ ] 操作系统集成（Windows、Linux、macOS）
- [ ] 版本控制系统集成（Git、SVN等）
- [ ] 持续集成/持续部署支持
- [ ] 容器化支持（Docker等）
- [ ] 云服务集成
- [ ] 第三方工具集成
- [ ] 插件系统扩展
- [ ] API接口开放
- [ ] 命令行工具
- [ ] 批处理支持

### 14. 高级功能

- [ ] 多核开发支持
- [ ] 实时操作系统支持
- [ ] 中间件集成
- [ ] 安全开发支持
- [ ] 低功耗开发支持
- [ ] 硬件抽象层支持
- [ ] 驱动开发支持
- [ ] 启动代码生成
- [ ] 外设配置工具
- [ ] 系统资源分析

## 四、IDE选型建议

从一定范围了解到，目前开发者更倾向于VSCode的快捷开发，而RISC-V厂商的自研IDE更倾向Eclipse定制，目前RuyiSDK计划针对这两个IDE工具均进行支持和插件开发，以满足用户多样化的开发需求。

### 1. 基于Eclipse Embedded CDT的定制IDE插件

**优势**：

- 成熟的嵌入式开发平台，已有丰富的嵌入式开发经验
- 强大的调试和项目管理功能
- 对C/C++开发有良好支持
- 插件系统成熟，便于扩展
- 已有RISC-V Eclipse插件可作为参考

**挑战**：

- Eclipse相对较重，启动和运行速度可能较慢
- 用户界面相对老旧，不够现代化
- 插件开发复杂度较高

### 2. 基于VSCode的IDE插件

**优势**：

- 轻量级，启动和运行速度快
- 现代化的用户界面和良好的用户体验
- 活跃的社区和丰富的插件生态
- 插件开发相对简单，开发效率高
- 跨平台支持良好

**挑战**：

- 嵌入式开发支持相对Eclipse较弱
- 调试功能可能需要更多定制开发
- 项目管理功能相对简单

### 3. Eclipse 与 VS Code 插件架构的优劣势对比

| 维度                      | Eclipse 插件架构                   | VS Code 插件架构                      |
| ------------------------- | ---------------------------------- | ------------------------------------- |
| **核心架构**        | 基于 OSGi 模块化系统，插件共享 JVM | 基于 Electron + Node.js，插件独立进程 |
| **语言支持**        | Java 为主，适合重型企业级应用      | JavaScript/TypeScript，轻量、灵活     |
| **启动速度**        | 较慢，需加载大量插件               | 快速，按需加载                        |
| **调试能力**        | 强大，原生支持 Java 调试，支持 CDT | 通过 DAP 协议扩展，支持多语言调试     |
| **UI 定制**         | 基于 SWT/JFace，强大但复杂         | 基于 Web 技术，灵活易定制             |
| **生态活跃度**      | 成熟但增长缓慢                     | 活跃、插件更新快                      |
| **远程开发**        | 原生支持较弱，需额外配置           | 内置 Remote Development 插件          |
| **嵌入式工具链**    | 成熟（如 CDT、J-Link 集成）        | 依赖插件，需定制适配                  |
| **多核/多线程调试** | 支持较好，适合复杂系统             | 依赖 DAP 实现，适配工作量大           |
| **跨平台性**        | 良好，但需 JVM 环境                | 跨平台支持优秀，依赖 Electron         |

针对 Eclipse 插件架构 和 VS Code 插件架构 同时开发的规划而言，两个IDE的插件功能完全一致可能并不是明智选择，进行差异化的开发策略或许是一个合适的方案。

### 五. RUYISDK IDE 差异化开发策略与双平台协同方案

#### 1. 差异化开发策略

##### Eclipse 插件定位：**重型开发与深度调试**

###### 核心优势场景

- **复杂系统开发**：多核 RISC-V 芯片、RTOS 内核开发、复杂驱动开发。
- **深度调试**：需要硬件断点、实时跟踪、多线程调试的场景。
- **企业级开发**：需要代码覆盖率、静态分析、CI/CD 集成的场景。

###### 重点功能开发

1. **高级调试支持**
   - 集成 J-Link/OpenOCD/RISC-V Debug Server。
   - 支持硬件断点、实时变量监控、多核同步调试。
   - 支持 RISC-V 特有的调试扩展（如自定义 CSR 寄存器视图）。
2. **多核开发支持**
   - 提供多核项目模板，支持不同核心的代码隔离与共享。
   - 集成多核调试视图，支持核心间通信监控。
3. **企业级工具链**
   - 集成静态代码分析（如 SonarQube）。
   - 支持代码覆盖率统计（如 gcov 集成）。
   - 提供 CI/CD 插件（如 Jenkins 集成）。
4. **硬件抽象层（HAL）开发**
   - 提供芯片厂商 HAL 库的自动生成工具。
   - 支持寄存器视图和位域操作。

##### VS Code 插件定位：**轻量开发与快速原型**

###### 核心优势场景

- **快速原型开发**：Arduino 风格开发、脚本化开发。
- **远程开发**：需要远程编译、调试的场景。
- **教学与初学者**：需要简单易用、快速上手的场景。

###### 重点功能开发

1. **快速开发支持**
   - 提供 Arduino 风格的项目模板。
   - 集成 PlatformIO 包管理器。
   - 支持一键编译、烧录、串口监视。
2. **远程开发**
   - 集成 VS Code Remote Development。
   - 支持远程 RISC-V 编译、调试。
   - 提供远程设备管理器。
3. **教学与初学者支持**
   - 提供交互式教程（如 RISC-V 汇编入门）。
   - 集成代码示例库。
   - 提供可视化调试工具（如寄存器状态图）。
4. **轻量调试**
   - 基于 DAP 的调试适配器。
   - 支持基本的断点、变量查看、单步调试。
   - 集成串口监视器和日志查看器。

#### 2. 双平台协同方案

##### 1. 项目格式统一

- 定义统一的 RUYISDK 项目格式（JSON 描述文件）。
- 确保项目在 Eclipse 和 VS Code 之间无缝切换。

##### 2. 工具链共享

- 统一交叉编译器、调试器、烧录工具的路径配置。
- 提供工具链版本管理器，支持多版本切换。

##### 3. 调试协议统一

- 统一使用 DAP（Debug Adapter Protocol）作为调试接口。
- Eclipse 插件通过 DAP 适配器与 VS Code 兼容。

##### 4. 插件互通

- Eclipse 插件可调用 VS Code 的远程开发功能。
- VS Code 插件可调用 Eclipse 的高级调试功能。

##### 5. 用户配置同步

- 提供云端配置同步功能（如 GitHub Gist）。
- 支持用户偏好设置、项目配置的跨平台同步。

#### 3. 典型开发场景与工具选择

| 开发场景                       | 推荐工具 | 理由                     |
| ------------------------------ | -------- | ------------------------ |
| **多核 RISC-V 芯片开发** | Eclipse  | 需要复杂调试和多核支持   |
| **Arduino 风格快速原型** | VS Code  | 轻量、易用、快速迭代     |
| **远程开发与调试**       | VS Code  | 内置远程开发支持         |
| **企业级项目开发**       | Eclipse  | 需要静态分析、CI/CD 集成 |
| **教学与初学者**         | VS Code  | 简单易用、教程丰富       |
| **硬件驱动开发**         | Eclipse  | 需要深度调试和寄存器操作 |

#### 4. 总结

通过差异化开发策略，Eclipse 和 VS Code 插件可以分别发挥各自的优势：

- **Eclipse** 适合复杂系统开发、深度调试和企业级应用。
- **VS Code** 适合快速原型、远程开发和教学场景。
  双平台协同方案确保了用户可以根据开发阶段和场景自由选择工具，甚至组合使用，最大化开发效率。这种策略不仅解决了 RISC-V 开发者的多样化需求，也为 RUYISDK IDE 构建了独特的竞争优势。
